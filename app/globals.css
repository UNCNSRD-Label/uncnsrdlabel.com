@tailwind base;
@tailwind components;
@tailwind utilities;

@supports (font: -apple-system-body) and (-webkit-appearance: none) {
  img[loading='lazy'] {
    clip-path: inset(0.6px);
  }
}

@layer utilities {
  .icon {
    @apply transition-all duration-300 ease-in-out  hover:scale-110;
  }

  .pin {
    display: flex;
    height: 100dvh;
    overflow: scroll;
  }

  @supports (animation-timeline: view()) {
    .pin {
      block-size: 500vh;
      overflow: visible;
      view-timeline-name: --section-pin-tl;
      view-timeline-axis: block;
    }
  }

  @supports (animation-timeline: view()) {
    .pin-wrap-sticky {
      block-size: 100dvh;
      inline-size: 100dvw;
      inset-block-start: 0;
      overflow-x: hidden;
      position: sticky;
    }
  }

  .pin-wrap {
    align-items: center;
    block-size: 100dvh;
    display: grid;
    gap: theme(gap.32);
    grid-auto-flow: column;
    padding-block: max(7.5dvh, theme(padding.20));
    padding-inline: max(7.5dvw, theme(padding.20));

    & h2 {
      font-size: 2rem;
    }

    & a {
      height: 100%;
      object-fit: cover;
    }
  }

  @supports (animation-timeline: view()) {
    .pin-wrap {
      animation: linear move forwards;
      animation-timeline: --section-pin-tl;
      animation-range: contain 0% contain 100%;
      block-size: 100dvh;
      will-change: transform;
    }
  }

  @keyframes move {
    100% {
      transform: translateX(calc(-100% + 100vw));
      left: 0px;
    }
  }
}
